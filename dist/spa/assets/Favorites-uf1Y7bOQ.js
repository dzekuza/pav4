import{j as e,H as h,d as b,E as w,f as j}from"./vendor_ui-6VDHAWyR.js";import{C as a,d as i}from"./card-BAjRuEEQ.js";import{B as r}from"./button-DkTu2F27.js";import{u as g,S as l}from"./SearchHeader-5zoZ1kxO.js";import{u as v,b as N}from"./index-C2INySnl.js";import{u as f,A as k}from"./AuthModal-DicyNdAp.js";import"./vendor_react-Bpl_dUPQ.js";import"./vendor_router-0FUT4RNd.js";import"./index-B2MitdoE.js";import"./index-D8EubtY5.js";import"./index-B8LjdZBf.js";import"./dialog-CorIUF4a.js";import"./AuthForms-DQlD-VsM.js";import"./input-l4wrzjtr.js";import"./label-CuJ9qwEk.js";import"./tabs-CdIcYuYS.js";import"./alert-DuKVxK9_.js";const I=()=>{const{favorites:t,loading:m,error:n,removeFavorite:x}=g(),{toast:c}=v(),{isAuthenticated:p}=N(),{modalProps:d}=f({title:"Sign in to view favorites",description:"Create an account or sign in to view your saved favorites",defaultTab:"login"}),u=async(s,o)=>{try{await x(s),c({title:"Removed from favorites",description:`${o} has been removed from your favorites`})}catch{c({title:"Error",description:"Failed to remove from favorites",variant:"destructive"})}};return p?m?e.jsxs("div",{className:"relative min-h-screen overflow-hidden text-white",children:[e.jsx("img",{src:"/pagebg.png",alt:"",className:"pointer-events-none absolute inset-0 -z-10 h-full w-full object-cover opacity-100"}),e.jsx(l,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto"}),e.jsx("p",{className:"mt-2 text-white/70",children:"Loading favorites..."})]})})]}):n?e.jsxs("div",{className:"relative min-h-screen overflow-hidden text-white",children:[e.jsx("img",{src:"/pagebg.png",alt:"",className:"pointer-events-none absolute inset-0 -z-10 h-full w-full object-cover opacity-100"}),e.jsx(l,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(a,{className:"border-white/10 bg-white/5 text-white backdrop-blur-sm",children:e.jsxs(i,{className:"p-8 text-center",children:[e.jsxs("p",{className:"text-red-300 mb-4",children:["Error loading favorites: ",n]}),e.jsx(r,{onClick:()=>window.location.reload(),className:"rounded-full bg-white text-black border border-black/10 hover:bg-white/90",children:"Try Again"})]})})})]}):e.jsxs("div",{className:"relative min-h-screen overflow-hidden text-white",children:[e.jsx("img",{src:"/pagebg.png",alt:"",className:"pointer-events-none absolute inset-0 -z-10 h-full w-full object-cover opacity-100"}),e.jsx(l,{}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"My Favorites"}),e.jsx("p",{className:"text-white/70",children:t.length===0?"You haven't saved any favorites yet.":`You have ${t.length} saved favorite${t.length===1?"":"s"}.`})]}),t.length===0?e.jsx(a,{className:"border-white/10 bg-white/5 text-white backdrop-blur-sm",children:e.jsxs(i,{className:"p-8 text-center",children:[e.jsx(h,{className:"h-12 w-12 text-white/60 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"No favorites yet"}),e.jsx("p",{className:"text-white/70 mb-4",children:"Start searching for products and add them to your favorites to see them here."}),e.jsx(r,{onClick:()=>window.location.href="/",className:"rounded-full bg-white text-black border border-black/10 hover:bg-white/90",children:"Start Searching"})]})}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(s=>e.jsx(a,{className:"hover:shadow-lg transition-shadow border-white/10 bg-white/5 text-white backdrop-blur-sm",children:e.jsx(i,{className:"p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:s.image||"/placeholder.svg",alt:s.title,className:"w-16 h-16 object-cover rounded border border-white/20",onError:o=>{o.currentTarget.src="/placeholder.svg"}})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium text-white/80 mb-1 capitalize",children:s.merchant||s.store||"Unknown Store"}),e.jsx("h4",{className:"font-medium text-sm line-clamp-2 mb-2 text-white",children:s.title}),s.price&&e.jsx("p",{className:"text-lg font-bold text-white",children:s.price}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/70 mt-2",children:[s.stock&&e.jsxs("span",{className:`flex items-center gap-1 ${s.stock.toLowerCase().includes("in stock")?"text-green-600":"text-orange-600"}`,children:[s.stock.toLowerCase().includes("in stock")?"✅":"⚠️",s.stock]}),s.rating&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(b,{className:"h-3 w-3 fill-current text-yellow-400"}),e.jsx("span",{children:s.rating}),s.reviewsCount&&e.jsxs("span",{className:"text-xs",children:["(",s.reviewsCount,")"]})]}),s.deliveryPrice&&e.jsxs("span",{className:"text-xs",children:["🚚 ",s.deliveryPrice]})]}),s.details&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-1",children:s.details}),e.jsxs("p",{className:"text-xs text-white/60 mt-2",children:["Saved on ",new Date(s.createdAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[s.url&&e.jsx(r,{asChild:!0,size:"sm",variant:"outline",className:"flex-shrink-0 rounded-full bg-white text-black border border-black/10 hover:bg-white/90",children:e.jsxs("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",title:"View product details","aria-label":"View product details",children:[e.jsx(w,{className:"h-3 w-3"}),e.jsx("span",{className:"sr-only",children:"View product details"})]})}),e.jsx(r,{size:"sm",variant:"ghost",className:"flex-shrink-0 p-1 h-8 w-8 text-red-400 hover:text-red-500 hover:bg-red-500/10",onClick:()=>u(s.id,s.title),title:"Remove from favorites",children:e.jsx(j,{className:"h-4 w-4"})})]})]})})},s.id))})]})]}):e.jsxs("div",{className:"relative min-h-screen overflow-hidden text-white",children:[e.jsx("img",{src:"/pagebg.png",alt:"",className:"pointer-events-none absolute inset-0 -z-10 h-full w-full object-cover opacity-100"}),e.jsx(l,{}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(a,{className:"border-white/10 bg-white/5 text-white backdrop-blur-sm",children:e.jsxs(i,{className:"p-8 text-center",children:[e.jsx(h,{className:"h-12 w-12 text-white/60 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Sign in to view favorites"}),e.jsx("p",{className:"text-white/70 mb-4",children:"Create an account or sign in to view your saved favorites."}),e.jsx(r,{onClick:()=>d.onClose(),className:"rounded-full bg-white text-black border border-black/10 hover:bg-white/90",children:"Sign In"})]})}),e.jsx(k,{...d})]})]})};export{I as default};
