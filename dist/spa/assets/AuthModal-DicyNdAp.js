import{r as n}from"./vendor_react-Bpl_dUPQ.js";import{b as d}from"./index-C2INySnl.js";import{j as s}from"./vendor_ui-6VDHAWyR.js";import{D as h,b as p,c as x,d as g,e as A}from"./dialog-CorIUF4a.js";import{A as j}from"./AuthForms-DQlD-VsM.js";function T(e={}){const[t,a]=n.useState(!1),{isAuthenticated:i}=d(),o=n.useCallback(()=>{i||a(!0)},[i]),l=n.useCallback(()=>{a(!1)},[]),r=n.useCallback(c=>{i?c():o()},[i,o]);return{isOpen:t,openModal:o,closeModal:l,handleProtectedAction:r,modalProps:{isOpen:t,onClose:l,onSuccess:e.onSuccess,title:e.title,description:e.description,defaultTab:e.defaultTab}}}function k({isOpen:e,onClose:t,onSuccess:a,title:i="Authentication Required",description:o="Please sign in or create an account to continue",defaultTab:l="login"}){const{isAuthenticated:r}=d(),[c,u]=n.useState(!1),m=async()=>{u(!0),await new Promise(f=>setTimeout(f,100)),u(!1),a==null||a(),t()};return r&&e&&t(),s.jsx(h,{open:e,onOpenChange:t,children:s.jsxs(p,{className:"sm:max-w-md",children:[s.jsxs(x,{children:[s.jsx(g,{children:i}),s.jsx(A,{children:o})]}),s.jsx("div",{className:"py-4",children:s.jsx(j,{onSuccess:m,defaultTab:l})})]})})}export{k as A,T as u};
