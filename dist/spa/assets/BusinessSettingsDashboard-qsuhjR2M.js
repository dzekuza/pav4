import{j as e,I as A,J as y,G as R,K as O,S as B,u as D,v as L}from"./vendor_ui-6VDHAWyR.js";import{r as g}from"./vendor_react-Bpl_dUPQ.js";import{C as v,a as N,b,c as w,d as S}from"./card-BAjRuEEQ.js";import{B as u}from"./button-DkTu2F27.js";import{I as r}from"./input-l4wrzjtr.js";import{L as i}from"./label-CuJ9qwEk.js";import{S as x}from"./switch-BSUbT9VC.js";import{P as U,c as z,u as G}from"./index-C2INySnl.js";import{T as M,a as _,b as C,c as k}from"./tabs-CdIcYuYS.js";import{d as $}from"./vendor_router-0FUT4RNd.js";import"./index-B2MitdoE.js";import"./index-D8EubtY5.js";var J="Separator",P="horizontal",K=["horizontal","vertical"],F=g.forwardRef((n,c)=>{const{decorative:a,orientation:d=P,...l}=n,m=V(d)?d:P,I=a?{role:"none"}:{"aria-orientation":m==="vertical"?m:void 0,role:"separator"};return e.jsx(U.div,{"data-orientation":m,...I,...l,ref:c})});F.displayName=J;function V(n){return K.includes(n)}var E=F;const p=g.forwardRef(({className:n,orientation:c="horizontal",decorative:a=!0,...d},l)=>e.jsx(E,{ref:l,decorative:a,orientation:c,className:z("shrink-0 bg-border",c==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...d}));p.displayName=E.displayName;function ne(){const{stats:n}=$(),{toast:c}=G(),[a,d]=g.useState({businessInfo:{name:(n==null?void 0:n.name)||"",domain:(n==null?void 0:n.domain)||"",email:"business@example.com",phone:"+1 (555) 123-4567",address:"123 Business St, City, State 12345",country:"United States",category:"E-commerce",description:"Your business description here"},trackingSettings:{enableTracking:!0,enableNotifications:!0,enableAnalytics:!0,trackingCode:"YOUR_TRACKING_CODE"},commissionSettings:{commissionRate:(n==null?void 0:n.adminCommissionRate)||10,autoPayout:!1,payoutThreshold:100},securitySettings:{twoFactorAuth:!1,sessionTimeout:30,ipWhitelist:[]}}),[l,m]=g.useState(!1),[h,I]=g.useState(!1),j=async s=>{m(!0);try{if(s==="Profile"){const o=await fetch("/api/business/profile",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:a.businessInfo.name,domain:a.businessInfo.domain,email:a.businessInfo.email,phone:a.businessInfo.phone,address:a.businessInfo.address,country:a.businessInfo.country,category:a.businessInfo.category,description:a.businessInfo.description})});if(!o.ok){const f=await o.json();throw new Error(f.error||"Failed to save profile settings")}const T=await o.json();c({title:"Profile Updated",description:T.message||"Business profile has been updated successfully."})}else await new Promise(o=>setTimeout(o,1e3)),c({title:"Settings Saved",description:`${s} settings have been updated successfully.`})}catch(o){console.error("Error saving settings:",o),c({title:"Error",description:o instanceof Error?o.message:"Failed to save settings. Please try again.",variant:"destructive"})}finally{m(!1)}},t=(s,o,T)=>{d(f=>({...f,[s]:{...f[s],[o]:T}}))};return e.jsxs("div",{className:"space-y-6 text-white",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Business Settings"}),e.jsx("p",{className:"text-white/70",children:"Manage your business profile, tracking, and security settings"})]})}),e.jsxs(M,{defaultValue:"profile",className:"space-y-4",children:[e.jsxs(_,{className:"grid w-full grid-cols-4",children:[e.jsx(C,{value:"profile",children:"Profile"}),e.jsx(C,{value:"tracking",children:"Tracking"}),e.jsx(C,{value:"commission",children:"Commission"}),e.jsx(C,{value:"security",children:"Security"})]}),e.jsx(k,{value:"profile",className:"space-y-4",children:e.jsxs(v,{className:"border-white/10 bg-white/5 text-white",children:[e.jsxs(N,{children:[e.jsxs(b,{className:"flex items-center gap-2 text-white",children:[e.jsx(A,{className:"h-5 w-5"}),"Business Information"]}),e.jsx(w,{className:"text-white/80",children:"Update your business profile and contact information"})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"business-name",children:"Business Name"}),e.jsx(r,{id:"business-name",value:a.businessInfo.name,onChange:s=>t("businessInfo","name",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"domain",children:"Domain"}),e.jsx(r,{id:"domain",value:a.businessInfo.domain,onChange:s=>t("businessInfo","domain",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"email",children:"Email"}),e.jsx(r,{id:"email",type:"email",value:a.businessInfo.email,onChange:s=>t("businessInfo","email",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"phone",children:"Phone"}),e.jsx(r,{id:"phone",value:a.businessInfo.phone,onChange:s=>t("businessInfo","phone",s.target.value)})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(i,{htmlFor:"address",children:"Address"}),e.jsx(r,{id:"address",value:a.businessInfo.address,onChange:s=>t("businessInfo","address",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"country",children:"Country"}),e.jsx(r,{id:"country",value:a.businessInfo.country,onChange:s=>t("businessInfo","country",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"category",children:"Category"}),e.jsx(r,{id:"category",value:a.businessInfo.category,onChange:s=>t("businessInfo","category",s.target.value)})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(i,{htmlFor:"description",children:"Description"}),e.jsx("textarea",{id:"description",className:"w-full min-h-[140px] px-3 py-2 rounded-md border border-white/10 bg-white/5 text-white placeholder:text-white/60 backdrop-blur-sm focus-visible:outline-none focus-visible:ring-0",value:a.businessInfo.description,onChange:s=>t("businessInfo","description",s.target.value)})]})]}),e.jsxs(u,{onClick:()=>j("Profile"),disabled:l,className:"w-full md:w-auto",children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),"Save Profile Settings"]})]})]})}),e.jsx(k,{value:"tracking",className:"space-y-4",children:e.jsxs(v,{className:"border-white/10 bg-white/5 text-white",children:[e.jsxs(N,{children:[e.jsxs(b,{className:"flex items-center gap-2 text-white",children:[e.jsx(R,{className:"h-5 w-5"}),"Tracking Configuration"]}),e.jsx(w,{className:"text-white/80",children:"Configure your tracking and analytics settings"})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(i,{children:"Enable Tracking"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Track user activity and conversions"})]}),e.jsx(x,{checked:a.trackingSettings.enableTracking,onCheckedChange:s=>t("trackingSettings","enableTracking",s)})]}),e.jsx(p,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(i,{children:"Enable Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive alerts for new conversions"})]}),e.jsx(x,{checked:a.trackingSettings.enableNotifications,onCheckedChange:s=>t("trackingSettings","enableNotifications",s)})]}),e.jsx(p,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(i,{children:"Enable Analytics"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Detailed analytics and reporting"})]}),e.jsx(x,{checked:a.trackingSettings.enableAnalytics,onCheckedChange:s=>t("trackingSettings","enableAnalytics",s)})]})]}),e.jsxs(u,{onClick:()=>j("Tracking"),disabled:l,className:"w-full md:w-auto",children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),"Save Tracking Settings"]})]})]})}),e.jsx(k,{value:"commission",className:"space-y-4",children:e.jsxs(v,{className:"border-white/10 bg-white/5 text-white",children:[e.jsxs(N,{children:[e.jsxs(b,{className:"flex items-center gap-2 text-white",children:[e.jsx(O,{className:"h-5 w-5"}),"Commission Settings"]}),e.jsx(w,{className:"text-white/80",children:"Configure your commission rates and payout preferences"})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"commission-rate",children:"Commission Rate (%)"}),e.jsx(r,{id:"commission-rate",type:"number",min:"0",max:"100",value:a.commissionSettings.commissionRate,onChange:s=>t("commissionSettings","commissionRate",parseFloat(s.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"payout-threshold",children:"Payout Threshold ($)"}),e.jsx(r,{id:"payout-threshold",type:"number",min:"0",value:a.commissionSettings.payoutThreshold,onChange:s=>t("commissionSettings","payoutThreshold",parseFloat(s.target.value))})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(i,{children:"Auto Payout"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically payout when threshold is reached"})]}),e.jsx(x,{checked:a.commissionSettings.autoPayout,onCheckedChange:s=>t("commissionSettings","autoPayout",s)})]}),e.jsxs(u,{onClick:()=>j("Commission"),disabled:l,className:"w-full md:w-auto",children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),"Save Commission Settings"]})]})]})}),e.jsx(k,{value:"security",className:"space-y-4",children:e.jsxs(v,{className:"border-white/10 bg-white/5 text-white",children:[e.jsxs(N,{children:[e.jsxs(b,{className:"flex items-center gap-2 text-white",children:[e.jsx(B,{className:"h-5 w-5"}),"Security Settings"]}),e.jsx(w,{className:"text-white/80",children:"Manage your account security and access controls"})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(i,{children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security"})]}),e.jsx(x,{checked:a.securitySettings.twoFactorAuth,onCheckedChange:s=>t("securitySettings","twoFactorAuth",s)})]}),e.jsx(p,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"session-timeout",children:"Session Timeout (minutes)"}),e.jsx(r,{id:"session-timeout",type:"number",min:"5",max:"480",value:a.securitySettings.sessionTimeout,onChange:s=>t("securitySettings","sessionTimeout",parseInt(s.target.value))})]}),e.jsx(p,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Change Password"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{type:h?"text":"password",placeholder:"Current password"}),e.jsx(r,{type:h?"text":"password",placeholder:"New password"}),e.jsx(u,{variant:"outline",size:"icon",onClick:()=>I(!h),children:h?e.jsx(D,{className:"h-4 w-4"}):e.jsx(L,{className:"h-4 w-4"})})]})]})]}),e.jsxs(u,{onClick:()=>j("Security"),disabled:l,className:"w-full md:w-auto",children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),"Save Security Settings"]})]})]})})]})]})}export{ne as default};
